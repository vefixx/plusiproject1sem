# ТЕСТИРОВАНИЕ МИНИ-СУБД

## 1. ОСНОВНЫЕ ФУНКЦИИ

### 1.1. Выбор действия

**Тестовый сценарий:** Корректный номер действия (действие №3 - вывод таблицы)  
**Ожидаемый результат:** Вывод таблицы со всеми записями  
**Фактический результат:** Скриншот консоли, где выведена таблица со всеми пользователями

---

**Тестовый сценарий:** Корректный номер действия (действие №1 - загрузка из файла)  
**Ожидаемый результат:** Запрос имени файла, затем загрузка данных из файла и сообщение об успешной загрузке  
**Фактический результат:** Скриншот консоли с запросом имени файла и сообщением о загрузке

---

**Тестовый сценарий:** Корректный номер действия (действие №4 - добавление пользователя)  
**Ожидаемый результат:** Запрос данных пользователя (имя, возраст, зарплата), добавление в таблицу и подтверждение  
**Фактический результат:** Скриншот консоли с запросами данных и сообщением об успешном добавлении

---

**Тестовый сценарий:** Некорректный номер действия (число больше 7 или отрицательное)  
**Ожидаемый результат:** Вывод сообщения "Неверный выбор" и возврат в главное меню  
**Фактический результат:** Скриншот консоли с сообщением об ошибке

---

### 1.2. Вывод всех записей (PrintTable)

**Тестовый сценарий:** Вывод таблицы при наличии записей  
**Ожидаемый результат:** Корректно отформатированная таблица с заголовками (ID, Имя, Возраст, Зарплата) и всеми записями  
**Фактический результат:** Скриншот консоли с таблицей

---

**Тестовый сценарий:** Вывод таблицы при отсутствии записей  
**Ожидаемый результат:** Таблица с заголовками, но без строк данных  
**Фактический результат:** Скриншот консоли с пустой таблицей (только заголовки)

---

### 1.3. Загрузка из файла (LoadFromFile)

**Тестовый сценарий:** Загрузка из существующего корректного файла  
**Входные данные:** Файл file.txt с корректными данными в формате "Имя, возраст, зарплата"  
**Ожидаемый результат:** Сообщение "Загружено X пользователей из файла" и данные загружены в таблицу  
**Фактический результат:** Скриншот консоли с сообщением об успешной загрузке

---

**Тестовый сценарий:** Загрузка из несуществующего файла  
**Входные данные:** Имя несуществующего файла (например, nonexistent.txt)  
**Ожидаемый результат:** Сообщение "Файл не найден"  
**Фактический результат:** Скриншот консоли с сообщением об ошибке

---

**Тестовый сценарий:** Загрузка из файла с некорректным форматом данных  
**Входные данные:** Файл с некорректными строками (без запятых, с некорректными типами данных)  
**Ожидаемый результат:** Загрузка только корректных строк, некорректные строки пропускаются  
**Фактический результат:** Скриншот консоли с результатом загрузки

---

### 1.4. Сохранение в файл (HandleSaveToFile)

**Тестовый сценарий:** Сохранение таблицы с записями в файл  
**Входные данные:** Таблица с несколькими пользователями, имя файла для сохранения (например, output.txt)  
**Ожидаемый результат:** Сообщение "Данные сохранены в файл: output.txt" и файл создан с корректными данными  
**Фактический результат:** Скриншот консоли с сообщением об успешном сохранении, проверка содержимого файла

---

**Тестовый сценарий:** Сохранение пустой таблицы  
**Входные данные:** Пустая таблица пользователей  
**Ожидаемый результат:** Создание пустого файла или файла без записей  
**Фактический результат:** Скриншот консоли и проверка созданного файла

---

### 1.5. Добавление записи (HandleAddUser, AddToTable)

**Тестовый сценарий:** Добавление пользователя с корректными данными  
**Входные данные:** Имя: "Тест Тестов", Возраст: 25, Зарплата: 50000  
**Ожидаемый результат:** Сообщение "Пользователь добавлен: Тест Тестов, возраст: 25, зарплата: 50000, ID: X" и запись добавлена в таблицу  
**Фактический результат:** Скриншот консоли с подтверждением добавления

---

**Тестовый сценарий:** Добавление первого пользователя (проверка присвоения ID=0)  
**Входные данные:** Пустая таблица, новый пользователь с корректными данными  
**Ожидаемый результат:** Пользователю присвоен ID=0  
**Фактический результат:** Скриншот консоли с выводом пользователя с ID=0

---

**Тестовый сценарий:** Добавление второго пользователя (проверка инкремента ID)  
**Входные данные:** Таблица с одним пользователем (ID=0), новый пользователь  
**Ожидаемый результат:** Новому пользователю присвоен ID=1  
**Фактический результат:** Скриншот консоли с выводом пользователя с ID=1

---

**Тестовый сценарий:** Попытка ввода некорректного имени (пустое имя)  
**Входные данные:** Пустая строка в качестве имени  
**Ожидаемый результат:** Сообщение "Имя не может быть пустым. Попробуйте снова." и повторный запрос  
**Фактический результат:** Скриншот консоли с сообщением об ошибке

---

**Тестовый сценарий:** Попытка ввода некорректного имени (длина > 30 символов)  
**Входные данные:** Имя длиной 31 символ  
**Ожидаемый результат:** Сообщение "Имя не должно содержать более 30 символов. Попробуйте снова."  
**Фактический результат:** Скриншот консоли с сообщением об ошибке

---

**Тестовый сценарий:** Попытка ввода некорректного возраста (отрицательное число)  
**Входные данные:** Возраст = -5  
**Ожидаемый результат:** Сообщение "Возраст должен быть от 0 до 100. Попробуйте снова."  
**Фактический результат:** Скриншот консоли с сообщением об ошибке

---

**Тестовый сценарий:** Попытка ввода некорректного возраста (> 100)  
**Входные данные:** Возраст = 150  
**Ожидаемый результат:** Сообщение "Возраст должен быть от 0 до 100. Попробуйте снова."  
**Фактический результат:** Скриншот консоли с сообщением об ошибке

---

**Тестовый сценарий:** Попытка ввода некорректной зарплаты (отрицательное число)  
**Входные данные:** Зарплата = -1000  
**Ожидаемый результат:** Сообщение "Зарплата не может быть отрицательной. Попробуйте снова."  
**Фактический результат:** Скриншот консоли с сообщением об ошибке

---

### 1.6. Удаление записи по номеру (DeleteUserById)

**Тестовый сценарий:** Удаление существующего пользователя по ID  
**Входные данные:** Таблица с несколькими пользователями, ID существующего пользователя (например, 2)  
**Ожидаемый результат:** Сообщение "Пользователь с ID=2 успешно удален" и запись удалена из таблицы  
**Фактический результат:** Скриншот консоли с подтверждением удаления, проверка таблицы после удаления

---

**Тестовый сценарий:** Попытка удаления несуществующего пользователя  
**Входные данные:** ID, которого нет в таблице (например, 999)  
**Ожидаемый результат:** Сообщение "Пользователь с ID=999 не найден." и повторный запрос ID  
**Фактический результат:** Скриншот консоли с сообщением об ошибке

---

**Тестовый сценарий:** Удаление первого пользователя  
**Входные данные:** ID=0 (первый пользователь в таблице)  
**Ожидаемый результат:** Пользователь удален, остальные записи остались в таблице  
**Фактический результат:** Скриншот консоли и проверка обновленной таблицы

---

### 1.7. Поиск по полю (FindAndPrintUsersBy*)

**Тестовый сценарий:** Поиск по ID существующего пользователя  
**Входные данные:** ID существующего пользователя (например, 1)  
**Ожидаемый результат:** Сообщение "Пользователь найден! Имя, возраст: X, зарплата: Y, ID: 1"  
**Фактический результат:** Скриншот консоли с найденным пользователем

---

**Тестовый сценарий:** Поиск по несуществующему ID  
**Входные данные:** ID=999  
**Ожидаемый результат:** Сообщение "По полю ID=999 было найдено 0 пользователей"  
**Фактический результат:** Скриншот консоли с сообщением о том, что пользователь не найден

---

**Тестовый сценарий:** Поиск по имени существующего пользователя  
**Входные данные:** Имя "Иван Иванов"  
**Ожидаемый результат:** Сообщение "Пользователь найден! Иван Иванов, возраст: X, зарплата: Y, ID: Z"  
**Фактический результат:** Скриншот консоли с найденным пользователем

---

**Тестовый сценарий:** Поиск по имени с несколькими совпадениями  
**Входные данные:** Имя, которое встречается у нескольких пользователей  
**Ожидаемый результат:** Вывод всех пользователей с таким именем  
**Фактический результат:** Скриншот консоли со всеми найденными пользователями

---

**Тестовый сценарий:** Поиск по несуществующему имени  
**Входные данные:** Имя "Несуществующий Пользователь"  
**Ожидаемый результат:** Сообщение "По полю Имя=\"Несуществующий Пользователь\" было найдено 0 пользователей"  
**Фактический результат:** Скриншот консоли с сообщением о том, что пользователь не найден

---

**Тестовый сценарий:** Поиск по возрасту  
**Входные данные:** Возраст 30  
**Ожидаемый результат:** Вывод всех пользователей с возрастом 30  
**Фактический результат:** Скриншот консоли со всеми найденными пользователями

---

**Тестовый сценарий:** Поиск по зарплате  
**Входные данные:** Зарплата 1000  
**Ожидаемый результат:** Вывод всех пользователей с зарплатой 1000  
**Фактический результат:** Скриншот консоли со всеми найденными пользователями

---

### 1.8. Сортировка по выбранному полю (SortTableBy)

**Тестовый сценарий:** Сортировка по имени (SortBy_Name)  
**Входные данные:** Таблица с несколькими пользователями, выбор сортировки по имени  
**Ожидаемый результат:** Таблица отсортирована по имени в алфавитном порядке (A-Z)  
**Фактический результат:** Скриншот консоли с отсортированной таблицей

---

**Тестовый сценарий:** Сортировка по возрасту (SortBy_Age)  
**Входные данные:** Таблица с несколькими пользователями, выбор сортировки по возрасту  
**Ожидаемый результат:** Таблица отсортирована по возрасту по возрастанию (от меньшего к большему)  
**Фактический результат:** Скриншот консоли с отсортированной таблицей

---

**Тестовый сценарий:** Сортировка по зарплате (SortBy_Salary)  
**Входные данные:** Таблица с несколькими пользователями, выбор сортировки по зарплате  
**Ожидаемый результат:** Таблица отсортирована по зарплате по возрастанию  
**Фактический результат:** Скриншот консоли с отсортированной таблицей

---

**Тестовый сценарий:** Сортировка по ID (SortBy_Id)  
**Входные данные:** Таблица с несколькими пользователями, выбор сортировки по ID  
**Ожидаемый результат:** Таблица отсортирована по ID по возрастанию  
**Фактический результат:** Скриншот консоли с отсортированной таблицей

---

**Тестовый сценарий:** Сортировка пустой таблицы  
**Входные данные:** Пустая таблица  
**Ожидаемый результат:** Сообщение "Таблица отсортирована!" и вывод пустой таблицы  
**Фактический результат:** Скриншот консоли

---

**Тестовый сценарий:** Сортировка таблицы с одной записью  
**Входные данные:** Таблица с одним пользователем  
**Ожидаемый результат:** Таблица остается без изменений  
**Фактический результат:** Скриншот консоли

---

## 2. ВСПОМОГАТЕЛЬНЫЕ ФУНКЦИИ

### 2.1. Парсинг строки из файла (ParseFileLine)

**Тестовый сценарий:** Парсинг корректной строки  
**Входные данные:** Строка "Иван Иванов, 30, 1000"  
**Ожидаемый результат:** Успешный парсинг, поля User заполнены корректно (name="Иван Иванов", age=30, salary=1000)  
**Фактический результат:** Логи или вывод содержимого структуры User

---

**Тестовый сценарий:** Парсинг строки с пробелами  
**Входные данные:** Строка "  Мария Смирнова  ,  25  ,  50000  "  
**Ожидаемый результат:** Пробелы обрезаны, поля заполнены корректно  
**Фактический результат:** Логи или вывод содержимого структуры User

---

**Тестовый сценарий:** Парсинг строки без запятых  
**Входные данные:** Строка "Иван Иванов 30 1000"  
**Ожидаемый результат:** Возврат false, пользователь не создан  
**Фактический результат:** Проверка возвращаемого значения

---

**Тестовый сценарий:** Парсинг строки с некорректным возрастом (не число)  
**Входные данные:** Строка "Иван Иванов, abc, 1000"  
**Ожидаемый результат:** Возврат false, пользователь не создан  
**Фактический результат:** Проверка возвращаемого значения

---

**Тестовый сценарий:** Парсинг строки с возрастом вне диапазона (< 1)  
**Входные данные:** Строка "Иван Иванов, 0, 1000"  
**Ожидаемый результат:** Возврат false, пользователь не создан  
**Фактический результат:** Проверка возвращаемого значения

---

**Тестовый сценарий:** Парсинг строки с возрастом вне диапазона (> 100)  
**Входные данные:** Строка "Иван Иванов, 150, 1000"  
**Ожидаемый результат:** Возврат false, пользователь не создан  
**Фактический результат:** Проверка возвращаемого значения

---

**Тестовый сценарий:** Парсинг строки с отрицательной зарплатой  
**Входные данные:** Строка "Иван Иванов, 30, -1000"  
**Ожидаемый результат:** Возврат false, пользователь не создан  
**Фактический результат:** Проверка возвращаемого значения

---

**Тестовый сценарий:** Парсинг строки с некорректным именем (пустое после обрезки)  
**Входные данные:** Строка "   , 30, 1000"  
**Ожидаемый результат:** Возврат false, пользователь не создан  
**Фактический результат:** Проверка возвращаемого значения

---

**Тестовый сценарий:** Парсинг строки с именем длиннее 30 символов  
**Входные данные:** Строка "Очень Длинное Имя Которое Превышает Тридцать Символов, 30, 1000"  
**Ожидаемый результат:** Возврат false, пользователь не создан  
**Фактический результат:** Проверка возвращаемого значения

---

### 2.2. Работа со строками (Trim, LTrim, RTrim)

**Тестовый сценарий:** Обрезка пробелов слева (LTrim)  
**Входные данные:** Строка "   Тест"  
**Ожидаемый результат:** Строка "Тест" (без пробелов слева)  
**Фактический результат:** Вывод строки до и после обрезки

---

**Тестовый сценарий:** Обрезка пробелов справа (RTrim)  
**Входные данные:** Строка "Тест   "  
**Ожидаемый результат:** Строка "Тест" (без пробелов справа)  
**Фактический результат:** Вывод строки до и после обрезки

---

**Тестовый сценарий:** Обрезка пробелов с обеих сторон (Trim)  
**Входные данные:** Строка "   Тест   "  
**Ожидаемый результат:** Строка "Тест"  
**Фактический результат:** Вывод строки до и после обрезки

---

**Тестовый сценарий:** Обрезка табуляций и переносов строк (Trim)  
**Входные данные:** Строка "\t\nТест\t\n"  
**Ожидаемый результат:** Строка "Тест"  
**Фактический результат:** Вывод строки до и после обрезки

---

### 2.3. Проверка, является ли строка числом (StringIsNumber)

**Тестовый сценарий:** Проверка корректного числа  
**Входные данные:** Строка "12345"  
**Ожидаемый результат:** Возврат true  
**Фактический результат:** Вывод результата проверки

---

**Тестовый сценарий:** Проверка строки с буквами  
**Входные данные:** Строка "123abc"  
**Ожидаемый результат:** Возврат false  
**Фактический результат:** Вывод результата проверки

---

**Тестовый сценарий:** Проверка пустой строки  
**Входные данные:** Строка ""  
**Ожидаемый результат:** Возврат true (пустая строка считается числом по текущей логике) или false (зависит от реализации)  
**Фактический результат:** Вывод результата проверки

---

**Тестовый сценарий:** Проверка строки с пробелами  
**Входные данные:** Строка "123 456"  
**Ожидаемый результат:** Возврат false  
**Фактический результат:** Вывод результата проверки

---

## 3. ВАЛИДАЦИЯ ВВОДА

### 3.1. Обработка некорректного ввода в главном меню

**Тестовый сценарий:** Ввод нечислового значения в главном меню  
**Входные данные:** Буквы или символы вместо числа  
**Ожидаемый результат:** Сообщение "Неверный ввод" и возврат в меню  
**Фактический результат:** Скриншот консоли с сообщением об ошибке

---

**Тестовый сценарий:** Ввод числа с дополнительными символами (например, "3abc")  
**Входные данные:** "3abc"  
**Ожидаемый результат:** Сообщение "Неверный ввод"  
**Фактический результат:** Скриншот консоли с сообщением об ошибке

---

### 3.2. Валидация при поиске

**Тестовый сценарий:** Некорректный выбор типа поиска  
**Входные данные:** Число вне диапазона 0-4 в меню поиска  
**Ожидаемый результат:** Сообщение об ошибке или возврат в меню поиска  
**Фактический результат:** Скриншот консоли

---

**Тестовый сценарий:** Некорректный ввод ID при поиске (не число)  
**Входные данные:** Буквы вместо числа  
**Ожидаемый результат:** Сообщение "Неверный ввод ID. Попробуйте снова."  
**Фактический результат:** Скриншот консоли

---

### 3.3. Валидация при сортировке

**Тестовый сценарий:** Некорректный выбор типа сортировки  
**Входные данные:** Число вне диапазона 0-4  
**Ожидаемый результат:** Сообщение "Неверный выбор. Попробуйте снова."  
**Фактический результат:** Скриншот консоли

---

## 4. ИНТЕГРАЦИОННЫЕ ТЕСТЫ

### 4.1. Полный цикл работы

**Тестовый сценарий:** Загрузка → Добавление → Сортировка → Поиск → Удаление → Сохранение  
**Входные данные:** Последовательность действий: загрузить файл, добавить пользователя, отсортировать по имени, найти по ID, удалить пользователя, сохранить в файл  
**Ожидаемый результат:** Все операции выполнены успешно, данные корректны  
**Фактический результат:** Скриншоты каждого этапа

---

**Тестовый сценарий:** Добавление → Удаление → Добавление (проверка ID)  
**Входные данные:** Добавить пользователя (ID=0), удалить его, добавить нового  
**Ожидаемый результат:** Новый пользователь получает ID=1 (ID не переиспользуется)  
**Фактический результат:** Скриншот консоли с проверкой ID

---

### 4.2. Работа с файлами

**Тестовый сценарий:** Загрузка → Изменения → Сохранение → Повторная загрузка  
**Входные данные:** Загрузить файл, добавить записи, сохранить в тот же файл, загрузить снова  
**Ожидаемый результат:** Сохраненные данные корректно загружаются обратно  
**Фактический результат:** Скриншоты и проверка содержимого файла

---

**Тестовый сценарий:** Загрузка из одного файла, сохранение в другой  
**Входные данные:** file.txt → изменения → output.txt  
**Ожидаемый результат:** Данные корректно сохранены в новый файл  
**Фактический результат:** Проверка содержимого обоих файлов

---

## 5. ГРАНИЧНЫЕ СЛУЧАИ

### 5.1. Пустая таблица

**Тестовый сценарий:** Все операции с пустой таблицей  
**Входные данные:** Пустая таблица, попытка удаления, поиска, сортировки, вывода  
**Ожидаемый результат:** Корректная обработка всех операций без ошибок  
**Фактический результат:** Скриншоты всех операций

---

### 5.2. Одна запись

**Тестовый сценарий:** Все операции с таблицей из одной записи  
**Входные данные:** Таблица с одним пользователем  
**Ожидаемый результат:** Все операции работают корректно  
**Фактический результат:** Скриншоты операций

---

### 5.3. Максимальные значения

**Тестовый сценарий:** Имя длиной ровно 30 символов  
**Входные данные:** Имя из 30 символов  
**Ожидаемый результат:** Успешное добавление пользователя  
**Фактический результат:** Скриншот консоли

---

**Тестовый сценарий:** Возраст = 1 и возраст = 100  
**Входные данные:** Пользователи с возрастом 1 и 100  
**Ожидаемый результат:** Оба пользователя успешно добавлены  
**Фактический результат:** Скриншот консоли

---

**Тестовый сценарий:** Зарплата = 0  
**Входные данные:** Пользователь с зарплатой 0  
**Ожидаемый результат:** Пользователь успешно добавлен  
**Фактический результат:** Скриншот консоли

---

### 5.4. Специальные символы в имени

**Тестовый сценарий:** Имя с пробелами  
**Входные данные:** Имя "Иван Иванов Петров"  
**Ожидаемый результат:** Успешное добавление  
**Фактический результат:** Скриншот консоли

---

## ПРИМЕЧАНИЯ

1. Все скриншоты должны быть сделаны с включенной кодировкой CP1251 для корректного отображения русского текста
2. При тестировании функций парсинга и утилит строк рекомендуется добавить временный код для вывода промежуточных результатов
3. Некоторые тесты требуют предварительной подготовки данных (создание тестовых файлов)
4. Для интеграционных тестов рекомендуется вести лог последовательности действий
